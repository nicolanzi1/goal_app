<form action="<%= goal_url(goal) %>" method="post">
    <%= auth_token %>
    <input type="hidden" name="_method" value="PUT">
    <input type="hidden" name="goal[completed]" value="<%= !goal.completed %>">
    <input type="submit"
    <% if goal.completed %>
        value="Oops! Did not complete."
    <% else %>
    value="Complete"
    <% end %>
    id="goal_<%= goal.id %>_completed">
</form>